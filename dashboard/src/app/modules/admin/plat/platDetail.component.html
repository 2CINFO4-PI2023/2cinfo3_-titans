<div class="flex flex-col sm:flex-row items-center md:items-start flex-auto min-w-0">
    <div
        class="md:flex md:items-center md:justify-end w-full sm:w-auto md:h-full md:w-full py-8 px-4 sm:p-12 md:p-16 sm:rounded-2xl md:rounded-none sm:shadow md:shadow-none sm:bg-card">
        <div class="w-full max-w-80 sm:w-80 mx-auto sm:mx-0">
            <!-- Section -->
            <div class="w-full">
                <div class="text-xl">Plat Details</div>
            </div>
            <div>
                <fuse-alert class="mt-8 -mb-4" *ngIf="showAlert" [appearance]="'outline'" [showIcon]="false"
                    [type]="alert.type" [@shake]="alert.type === 'error'">
                    {{ alert.message }}
                </fuse-alert>
            </div>
            <form [formGroup]="platDetailsForm" (ngSubmit)="onSubmit()" #platDetailNgForm="ngForm">
                <div class="sm:col-span-4">
                    <mat-form-field class="w-1/2 mt-4 mx-4">
                        <input matInput placeholder="Name" formControlName="name" />
                        <mat-error *ngIf="
                              platDetailsForm.get('name').invalid &&
                              platDetailsForm.get('name').touched">
                            Name is required
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class="sm:col-span-4">
                    <div *ngFor="let item of inputFields">

                        <div class="sm:col-span-4">
                            <mat-form-field class="w-1/2 mt-4 mx-4">
                                <input matInput type="text" [(ngModel)]="item.key" [ngModelOptions]="{standalone: true}"
                                    placeholder="ingredient" required #key="ngModel">
                            </mat-form-field>

                            <mat-error *ngIf="key.invalid && key.touched">
                                Ingredient is required.
                            </mat-error>
                        </div>
                        <div class="sm:col-span-4">
                            <mat-form-field class="w-1/2 mt-4 mx-4">
                                <input matInput type="number" [(ngModel)]="item.value"
                                    [ngModelOptions]="{standalone: true}" placeholder="Value" required #value="ngModel">
                            </mat-form-field>
                            <mat-error *ngIf="value.invalid && value.touched">
                                Ingredient value is required.
                            </mat-error>
                        </div>
                        <div class="sm:col-span-4">
                            <button class="mt-4 ml-4" mat-stroked-button color="warm" (click)="remove(item)">Remove</button>
                        </div>
                    </div>
                    <button class="mt-4 ml-4" mat-flat-button color="primary" type="button" (click)="addInput()">Add Ingredients</button>
                </div>


                <div class="sm:col-span-4">
                    <mat-form-field class="w-1/2 mt-4 mx-4">
                        <input matInput type="number" placeholder="price" formControlName="price" />
                        <mat-error *ngIf="
                              platDetailsForm.get('price').invalid &&
                                  platDetailsForm.get('price').touched">
                            price is required
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class="sm:col-span-4">
                    <mat-form-field class="w-1/2 mt-4 mx-4">
                        <input matInput placeholder="Image URL" formControlName="image" />
                        <mat-error *ngIf="
                            platDetailsForm.get('image').invalid &&
                                platDetailsForm.get('image').touched">
                            Image is required
                        </mat-error>
                    </mat-form-field>
                </div>
                <div class="mt-4 mb-10 border-t"></div>

                <div class="flex items-center justify-end mb-10 mx-4">
                <button class="ml-4" mat-flat-button color="primary" type="submit" [disabled]="platDetailsForm.invalid">
                    Save
                </button>
                <button class="mr-4 ml-4" mat-stroked-button type="button" (click)="goToPlatsList()">
                    Cancel
                </button>    
                </div>  
            </form>
        </div>
    </div>
</div>